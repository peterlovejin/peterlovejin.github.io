#
#c11=c1[order(c1$開獎日期),]
write.csv(c1,"biglot.csv",row.names=FALSE)
unique(c1)
setwd("~/mygit/peterlovejin.github.io/")
setwd("~/mygit/peterlovejin.github.io/")
library(XML)
bingo=0
mm=0
i=1
c=NULL
for (i in 1:59){
url=paste("https://www.pilio.idv.tw/lto/list.asp?indexpage=",i,"&orderby=new",sep="")
xx=url %>% read_html()%>% html_nodes("table.auto-style1")%>% html_nodes("tr")%>% html_nodes("td") %>%html_text()
library(stringr)
n=length(xx)
mydate=xx[seq(4,n,3)]
myn=xx[seq(5,n,3)]%>%str_trim("both")
mys=xx[seq(6,n,3)]%>%str_trim("both")
b=data.frame(mydate,myn,mys)
c=rbind(c,b)}
for (i in 1:59){
url=paste("https://www.pilio.idv.tw/lto/list.asp?indexpage=",i,"&orderby=new",sep="")
xx=url %>% read_html()%>% html_nodes("table.auto-style1")%>% html_nodes("tr")%>% html_nodes("td") %>%html_text()
library(stringr)
n=length(xx)
mydate=xx[seq(4,n,3)]
myn=xx[seq(5,n,3)]%>%str_trim("both")
mys=xx[seq(6,n,3)]%>%str_trim("both")
b=data.frame(mydate,myn,mys)
c=rbind(c,b)}
library(tidyr)
c1=c %>% separate(myn,c("v1","v2","v3","v4","v5","v6"))
library(stringr)
c1$mydate=as.character(c$mydate)
c1$mydate=as.Date(str_sub(c$mydate,1,10),"%Y/%m/%d")
c1$mys=as.character(c1$mys)
c11=c1[order(c1$mydate),]
write.csv(c11,"lot.csv",row.names=F)
read.csv("lot.csv")
read.csv("lot.csv")
for (i in 2:8) c11[,i]=as.integer(c11[,i])
n=nrow(lot)
lot=read.csv("lot.csv")
read.csv("lot.csv")
lot=read.csv("lot.csv")
lot=read.csv("lot.csv")
result11=NULL
nextday=matrix(0,ncol = 8,nrow=8)
n=nrow(lot)
n
head(lot)
lot=unique(lot)
n=nrow(lot)
n
head(lot)
xx1=read.csv("lot.csv")
# for (i in 2:8) c11[,i]=as.integer(c11[,i])
```
### 特別號： 單用以本期開獎獎號下期最常出現的號碼
```{r echo=F,warning=F,message=F,error=F,fig.width=9,fig.height=5}
result11=NULL
nextday=matrix(0,ncol = 8,nrow=8)
xx1=unique(xx1)
n=nrow(xx1)
for (i in 1:n){
if(i>=2){
nextday[as.integer(xx1[i-1,8]),as.integer(xx1[i,8])]=  nextday[as.integer(xx1[i-1,8]),as.integer(xx1[i,8])]+1
}
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>1000){  result11=c(result11,sum(guess %in% as.integer(xx1[i+1,8])))}
}
print(table(result11))
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
guess=NULL
for (j in 1){
tmp=which.max(as.integer(nextday[as.integer(xx1[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday)
print("本期開獎：")
print(xx1[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
result11=NULL
nextday=matrix(0,ncol = 38,nrow=38)
xx1=unique(xx1)
n=nrow(xx1)
for (i in 1:n){
if(i>=2){
nextday[as.integer(xx1[i-1,2:7]),as.integer(xx1[i,2:7])]=  nextday[as.integer(xx1[i-1,2:7]),as.integer(xx1[i,2:7])]+1
}
guess=NULL
for (j in 1:6){
tmp=which.max(as.integer(nextday[as.integer(xx1[i,2:7])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>1000){  result11=c(result11,sum(guess %in% as.integer(xx1[i+1,2:7])))}
}
print(table(result11))
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 2:7){
tmp=which.max(as.integer(nextday[as.integer(xx1[n,2:7])[j],]))
guess=c(tmp,guess)}
#print(nextday)
print("本期開獎：")
print(xx1[n,2:7])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
print(xx1[n,])
library(knitr)
library(DT)
install.packages(knitr)
install.packages("knitr"")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
install.packages("knitr")
library("knitr")
xx1[n,] %>% kable()
library(dplyr)
guess%>%data.frame() %>% datatable()
head(x11)
head(xx1)
library(lubridate)
day(xx1$mydate)
weekday(xx1$mydate)
weekdays(xx1$mydate)
week(xx1$mydate)
date(xx1$mydate)
week(xx1$mydate)
week(as.Date(xx1$mydate))
date(as.Date(xx1$mydate))
day(as.Date(xx1$mydate))
days(as.Date(xx1$mydate))
date(as.Date(xx1$mydate))
week(as.Date(xx1$mydate))
weekdays(as.Date(xx1$mydate))
xx1$w=weekdays(as.Date(xx1$mydate))
xx1_1=xx1 %>% filtr(w=="週一")
xx1_1=xx1 %>% filter(w=="週一")
xx1_1
result11=NULL
nextday=matrix(0,ncol = 8,nrow=8)
xx1_1=unique(xx1_1)
n=nrow(xx1_1)
for (i in 1:n){
if(i>=2){
nextday[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]=  nextday[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]+1
}
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>1000){  result11=c(result11,sum(guess %in% as.integer(xx1_1[i+1,8])))}
}
table(result11) %>%kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1_1[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday)
print("本期開獎：")
print(xx1_1[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
library(lubridate)
xx1$w=weekdays(as.Date(xx1$mydate))
xx1_1=xx1 %>% filter(w=="週一")
result11=NULL
nextday=matrix(0,ncol = 8,nrow=8)
xx1_1=unique(xx1_1)
n=nrow(xx1_1)
for (i in 1:n){
if(i>=2){
nextday[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]=  nextday[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]+1
}
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_1[i+1,8])))}
}
table(result11) %>%kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1_1[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday)
print("本期開獎：")
print(xx1_1[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
round((table(result11)/sum(table(result11)))*100,2)
print(paste("最新一期猜測結果：", tail(result11,2)[1])) %>% kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
library(lubridate)
xx1$w=weekdays(as.Date(xx1$mydate))
xx1_1=xx1 %>% filter(w=="週四")
result11=NULL
nextday=matrix(0,ncol = 8,nrow=8)
xx1_1=unique(xx1_1)
n=nrow(xx1_1)
for (i in 1:n){
if(i>=2){
nextday[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]=  nextday[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]+1
}
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_1[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday[as.integer(xx1_1[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday)
print("本期開獎：")
print(xx1_1[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
library(lubridate)
xx1_4=xx1 %>% filter(w=="週四")
result11=NULL
nextday_4=matrix(0,ncol = 8,nrow=8)
xx1_4=unique(xx1_4)
n=nrow(xx1_4)
for (i in 1:n){
if(i>=2){
nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]=  nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]+1
}
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_4[as.integer(xx1_4[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_4[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_4[as.integer(xx1_4[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday_4)
print("本期開獎：")
print(xx1_4[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
#
# library(lubridate)
#
#
# xx1_4=xx1 %>% filter(w=="週四")
#
#
# result11=NULL
#
# nextday_4=matrix(0,ncol = 8,nrow=8)
#
# xx1_4=unique(xx1_4)
n=nrow(xx1_4)
# for (i in 1:n){
#
#   if(i>=2){
#   nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]=  nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]+1
#
#   }
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_4[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_4[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday_4)
print("本期開獎：")
print(xx1_4[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
library(lubridate)
xx1$w=weekdays(as.Date(xx1$mydate))
xx1_1=xx1 %>% filter(w=="週一")
result11=NULL
nextday_1=matrix(0,ncol = 8,nrow=8)
xx1_1=unique(xx1_1)
n=nrow(xx1_1)
for (i in 1:n){
if(i>=2){
nextday_1[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]=  nextday_1[as.integer(xx1_1[i-1,8]),as.integer(xx1_1[i,8])]+1
}
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_1[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_1[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday)
print("本期開獎：")
print(xx1_1[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
#
#
# library(lubridate)
#
#
# xx1_4=xx1 %>% filter(w=="週四")
#
#
# result11=NULL
#
# nextday_4=matrix(0,ncol = 8,nrow=8)
#
# xx1_4=unique(xx1_4)
n=nrow(xx1_4)
# for (i in 1:n){
#
#   if(i>=2){
#   nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]=  nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]+1
#
#   }
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_4[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_4[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday_4)
print("本期開獎：")
print(xx1_4[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
#
#
# library(lubridate)
#
#
# xx1_4=xx1 %>% filter(w=="週四")
#
#
# result11=NULL
#
# nextday_4=matrix(0,ncol = 8,nrow=8)
#
# xx1_4=unique(xx1_4)
n=nrow(xx1_4)
# for (i in 1:n){
#
#   if(i>=2){
#   nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]=  nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]+1
#
#   }
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_4[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_4[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_1[as.integer(xx1_4[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday_4)
print("本期開獎：")
print(xx1_4[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
#
#
# library(lubridate)
#
#
# xx1_4=xx1 %>% filter(w=="週四")
#
#
# result11=NULL
#
# nextday_4=matrix(0,ncol = 8,nrow=8)
#
# xx1_4=unique(xx1_4)
n=nrow(xx1_1)
# for (i in 1:n){
#
#   if(i>=2){
#   nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]=  nextday_4[as.integer(xx1_4[i-1,8]),as.integer(xx1_4[i,8])]+1
#
#   }
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_4[as.integer(xx1_1[i,8])[j],]))
guess=c(tmp,guess)
guess=unique(guess)
}
if (i>500){  result11=c(result11,sum(guess %in% as.integer(xx1_1[i+1,8])))}
}
table(result11) %>%kable()
round((table(result11)/sum(table(result11)))*100,2)%>% kable()
print(paste("最新一期猜測結果：", tail(result11,2)[1]))
cat("\n")
cat("**********************************")
guess=NULL
for (j in 1:1){
tmp=which.max(as.integer(nextday_4[as.integer(xx1_1[n,8])[j],]))
guess=c(tmp,guess)}
#print(nextday_4)
print("本期開獎：")
print(xx1_1[n,8])
guess=unique(guess)
print("下期預測：")
cat("\n")
print(guess)
table(xx1$special)
head(xx1)
table(xx1$mys)
table(xx1$mys)/sum(table(xx1$mys))
round((table(xx1$mys)/sum(table(xx1$mys)))*100,2)
nextday
